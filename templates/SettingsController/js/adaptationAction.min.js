var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,d,c){a instanceof String&&(a=String(a));for(var e=a.length,b=0;b<e;b++){var f=a[b];if(d.call(c,f,b,a))return{i:b,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,c,e){if(d){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var b=a[e];b in c||(c[b]={});c=c[b]}a=a[a.length-1];e=c[a];d=d(e);d!=e&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
function custom_icon_remove(a){var d=$(document).find("img[data-id='"+a+"']:first");d.tsiDeleteIcon({element:d},function(){d.fadeOut("slow")})}
$(document).ready(function(){function a(){$(".adaptation-icon").mouseover(function(b){b.preventDefault();$(this).hasClass("active")?null:$(this).addClass("active");"0"===$(this).attr("data-sys")&&($(this).unbind("contextMenu"),$(this).bind("contextMenu",function(b,a){a.push({text:tjs.get("Delete"),link:"javascript:void(0)",onclick:"custom_icon_remove('"+$(this).attr("data-id")+"');",icon:"delete"})}))}).mouseout(function(b){b.preventDefault();$(this).hasClass("active")?$(this).removeClass("active"):
null;"0"===$(this).attr("data-sys")&&$(this).unbind("contextMenu")})}function d(b){return b.charAt(0).toUpperCase()+b.slice(1)}$("#show-sys-icons").change(function(){$(this).prop("checked")?$('.adaptation-icon[data-sys="1"]').fadeIn("slow"):$('.adaptation-icon[data-sys="1"]').fadeOut("slow")});a();var c=ace.edit("custom_css",{mode:"ace/mode/css",selectionStyle:"text"});c.setOptions({autoScrollEditorIntoView:!0,copyWithEmptySelection:!0,fontSize:"14px"});c.setOption("mergeUndoDeltas","always");c.setTheme("ace/theme/chrome");
var e=$("ul.controls-tabs:first");e.find("li").click(function(){var b=$(this).children("a:first").attr("href");0===$(b).find("form").length?($("button[type=submit]").disableBt(),$("button[type=reset]").disableBt()):($("button[type=submit]").enableBt(),$("button[type=reset]").enableBt())});e.find("li.current:first").click();$("button[type=submit]").click(function(b){b.preventDefault();$("#tab-css").is(":visible")&&$("#custom_css_copy").val(c.getValue());b=$(document).find("ul.controls-tabs:first").find("li.current:first").children("a:first").attr("href");
b=$(b).find("form");0===b.length||b.submit()});$("button[type=reset]").click(function(b){b.preventDefault();b=$(document).find("ul.controls-tabs:first").find("li.current:first").children("a:first").attr("href");b=$(b).find("form");0===b.length||b[0].reset()});$("#logo").change(function(b){b.preventDefault();$("#ajax-change-branding-form").tsiUpload("",function(){$("#logo-preview").attr("src","templates/"+this.filename)})});$("#custom_icon_upload").change(function(){$("button[type=submit]").disableBt();
$("button[type=reset]").disableBt();$(this).parents("form").tsiUploadIcon({},function(){var b=this.id;$("#adaptation-icon-list").append('<img class="adaptation-icon" data-id=\''+b+'\' data-sys="0" alt="" src=\''+this.base64+"'>");a()})});$(".style-package-preview").click(function(){img_show_preview($(this).attr("src"))});$("#style-package-preview").click(function(){0<document.getElementById("package").files.length&&img_show_preview($(this).attr("src"))});$("#package").change(function(){var b=$(this).next("label"),
a=$("#pkg-info"),c=$("#pkg-info-author"),e=$("#pkg-info-website"),k=$("#pkg-info-copyright"),l=$("#pkg-info-license");b.html(tjs.get("Select Style package"));a.hide();c.parent().hide();e.parent().hide();k.parent().hide();l.parent().hide();$("#style-package-preview").css("cursor","normal");$("button[type=submit]").disableBt();$("button[type=reset]").disableBt();$(this).parents("form").packageInfo("",function(){var g=this.name,f=""!==this.version?" ("+this.version+")":"",m=this.preview,n=this.author,
p=this.website,h=this.copyright,q=this.license;$("button[type=submit]").enableBt();$("button[type=reset]").enableBt();"ext"===this.type?b.html(d(g)+f+tjs.get("Style package for Modul")+d(this.modul.toLowerCase())):b.html(d(g)+f+tjs.get("Style package"));g=$("#style-package-preview");""!==m&&(g.attr("src",m),g.css("cursor","zoom-in"));""!==n&&(a.show(),c.html(n).parent().show());""!==p&&(a.show(),e.html(p).parent().show());""!==h&&(a.show(),k.html(h).parent().show());""!==q&&(a.show(),l.attr("href",
h).parent().show())})})});
