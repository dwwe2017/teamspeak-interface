$(document).ready(function(){var c=$("#mfa_type_none"),e=$("#mfa_type_google"),f=$("#mfa_type_email");c.click(function(){$(this).prop("checked")&&(f.prop("checked",!1),e.prop("checked",!1),$("#mfa_code").prop("required",!1),$("#account-mfa-email").css("opacity","0.3"),$("#account-mfa-google").css("opacity","0.3"))});f.click(function(){$(this).prop("checked")&&(c.prop("checked",!1),e.prop("checked",!1),$("#mfa_code").prop("required",!1),$(this).css("opacity","1"),$("#account-mfa-google").hide(),$("#account-mfa-email").css("opacity",
"1").show())});e.click(function(){$(this).prop("checked")&&(c.prop("checked",!1),f.prop("checked",!1),$(this).css("opacity","1"),$("#mfa_code").attr("required","required"),$("#account-mfa-email").hide(),$("#account-mfa-google").css("opacity","1").show())});$("#account-mfa-email-code-request").click(function(){var d=$("#account-mfa-block"),a=$(this);a.disableBt();var c=(new Date).getTime();$.ajax({url:"index.php?controller=ajax&action=accountCreateMFA",type:"GET",success:function(b){b.valid?(b=(new Date).getTime(),
500>b-c?setTimeout(function(){d.removeBlockMessages({except:"no-hide"}).blockMessage(tjs.get("The one-time password was sent to your email address. If you do not receive the notification within a few minutes, please check whether the email settings of the server are correct!"),{type:"success"});a.enableBt()},500-(b-c)):(d.removeBlockMessages({except:"no-hide"}).blockMessage(tjs.get("The one-time password was sent to your email address. If you do not receive the notification within a few minutes, please check whether the email settings of the server are correct!"),
{type:"success"}),a.enableBt()),a.parent().prev().children().fadeIn("slow")):b.error?(d.removeBlockMessages({except:"no-hide"}).blockMessage(b.error||tjs.get("An unexpected error occurred, please try again"),{type:"error",position:"top"}),a.enableBt()):b.warning&&(d.removeBlockMessages({except:"no-hide"}).blockMessage(b.warning||tjs.get("An unexpected error occurred, please try again"),{type:"warning",position:"top"}),a.parent().prev().children().fadeIn("slow"),a.enableBt())},error:function(){d.removeBlockMessages({except:"no-hide"}).blockMessage(tjs.get("Error while contacting server, please try again"),
{type:"error"});a.enableBt()}});d.removeBlockMessages({except:"no-hide"}).blockMessage(tjs.get("Please wait, processing..."),{type:"loading"})})});
