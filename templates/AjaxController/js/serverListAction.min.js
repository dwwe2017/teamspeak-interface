var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,g,e){b instanceof String&&(b=String(b));for(var h=b.length,k=0;k<h;k++){var n=b[k];if(g.call(e,n,k,b))return{i:k,v:n}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,g,e){b!=Array.prototype&&b!=Object.prototype&&(b[g]=e.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,g,e,h){if(g){e=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var k=b[h];k in e||(e[k]={});e=e[k]}b=b[b.length-1];h=e[b];g=g(h);g!=h&&null!=g&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,e){return $jscomp.findInternal(this,b,e).v}},"es6","es3");
$(document).ready(function(){function b(a){a=void 0===a?!1:a;!1===a?t=!1:"{}"!==JSON.stringify(a)&&(t=0<$(a).parent("div").find("a.search-less").length)}function g(a){a=void 0===a?!1:a;!1===a?q=1:"{}"!==JSON.stringify(a)&&(q=$(a).next("ul").find("li.current:first").find("a").html()||1)}var e=source.has_cache_lifetime_serverList,h=source.tsi_instance_notes_manage,k=source.cookie_date_1_serverList,n=source.cookie_date_0_serverList,y=source.servers_count_serverList,t=!1,q=1;$("a.ajax-get-assigned-users-refresh").click(function(a){a.preventDefault();
a.stopPropagation();if("display: none;"!==$(this).attr("style")){var l=$(this),c=$(this).children("img"),e=c.attr("src");c.attr("src","images/ajax-loader.gif");a=$(this).attr("data-id");var h=$(this).attr("data-sid");$.get("index.php?controller=ajax&action=getAssignedUsers&instance_id="+a+"&virtualserver_id="+h,function(a){var f="",k=void 0===a.error?null:a.error;a=void 0===a.response?{}:a.response;if(k)f='<span style="font-style: oblique; font-weight: normal; font-size: 11px; color: rgb(255, 0, 0);">'+
k+"</span>";else if(a!=={}){var r=void 0===a.users?[]:a.users,p=void 0===a.resellers?[]:a.resellers;if(0<r.length||0<p.length){var m="assigned-users-accessible-"+h;f='<br/><ul class="simple-list with-icon" id="'+m+'">';if(0<p.length){var n=tjs.get("Reseller"),u=tjs.get("Edit Reseller");$.each(p,function(a){var d=p[a];a=d.id;var b=d.username,c=void 0===d.first_name?"":d.first_name;d=void 0===d.last_name?"":d.last_name;c=""!==c&&""!==d?" - "+c+" "+d:"";f+="<li class='icon-reseller'>";f+='<a href="javascript:void(0)" title="'+
u+'" onclick="modalEditReseller('+a+", '"+l.attr("id")+"')\"><strong>["+n+"#"+a+"]</strong> <b>"+b+"</b>"+c+"</a>";f+="</li>"})}if(0<r.length){var z=tjs.get("User"),v=tjs.get("Reseller"),w=tjs.get("Edit Webuser");$.each(r,function(a){var d=r[a];a=d.id;var b=d.username,c=void 0===d.first_name?"":d.first_name,e=void 0===d.last_name?"":d.last_name;d=void 0===d.reseller_id?null:d.reseller_id;c=""!==c&&""!==e?" - "+c+" "+e:"";f+="<li class='icon-user'>";f+='<a href="javascript:void(0)" title="'+w+'" onclick="modalEditWebuser('+
a+", '"+l.attr("id")+"')\"><strong>["+z+"#"+a+"]</strong> <b>"+b+"</b>"+c;0<d&&(f+="<small> ("+v+": #"+d+")</small>");f+="</a>";f+="</li>"})}f+="</ul>"}else f='<span style="font-style: oblique; font-weight: normal; font-size: 11px;">'+tjs.get("No users are assigned to this virtual server")+"</span>"}else f='<span style="font-style: oblique; font-weight: normal; font-size: 11px;">'+tjs.get("No users are assigned to this virtual server")+"</span>";c.attr("src",e);l.parent("div").next("div").hide();
l.parent("div").next("div").html(f);l.parent("div").next("div").fadeIn("slow");m&&(m=$("#"+m),m.find("a").tip({position:"right"}),m.accessibleList({moreAfter:2,pageSize:4,moreText:tjs.get("show more"),lessText:tjs.get("show less"),openedOnStart:t,after:function(){b(this);g(this)}}),1<q&&m.parent("div").find("ul.small-pagination:first").find('a[title="Page '+q+'"]').trigger("click"))})}return!1});$("a.ajax-get-assigned-users").click(function(a){a.preventDefault();a.stopPropagation();var l=$(this);
$('img.ajax-get-assigned-users-icon[style="width: 16px; height: 16px; vertical-align: sub; opacity: 0.5;"]').each(function(){$(this).parent("a").attr("id")!==l.attr("id")&&(b(!1),g(!1),$(this).attr("style","width: 16px; height: 16px; vertical-align: sub;"),$(this).parent("a").parent("div").next("div").fold("normal",function(){$(this).html("")}),$(this).parent("a").next("a").fadeOut("slow"))});var c=$(this).children("img"),e=c.attr("src");if("width: 16px; height: 16px; vertical-align: sub; opacity: 0.5;"===
c.attr("style"))b(!1),g(!1),c.attr("style","width: 16px; height: 16px; vertical-align: sub;"),l.parent("div").next("div").fold("normal",function(){$(this).html("")}),l.next("a").fold();else{c.attr("src","images/ajax-loader.gif");a=$(this).attr("data-id");var h=$(this).attr("data-sid");$.get("index.php?controller=ajax&action=getAssignedUsers&instance_id="+a+"&virtualserver_id="+h,function(a){var f="",k=void 0===a.error?null:a.error;a=void 0===a.response?{}:a.response;if(k)f='<span style="font-style: oblique; font-weight: normal; font-size: 11px; color: rgb(255, 0, 0);">'+
k+"</span>";else if(a!=={}){var n=void 0===a.users?[]:a.users,p=void 0===a.resellers?[]:a.resellers;if(0<n.length||0<p.length){var m="assigned-users-accessible-"+h;f='<br/><ul class="simple-list with-icon" id="'+m+'">';if(0<p.length){var q=tjs.get("Reseller"),r=tjs.get("Edit Reseller");$.each(p,function(a){var d=p[a];a=d.id;var b=d.username,c=void 0===d.first_name?"":d.first_name;d=void 0===d.last_name?"":d.last_name;c=""!==c&&""!==d?" - "+c+" "+d:"";f+="<li class='icon-reseller'>";f+='<a href="javascript:void(0)" title="'+
r+'" onclick="modalEditReseller('+a+", '"+l.attr("id")+"')\"><strong>["+q+"#"+a+"]</strong> <b>"+b+"</b>"+c+"</a>";f+="</li>"})}if(0<n.length){var u=tjs.get("User"),v=tjs.get("Reseller"),w=tjs.get("Edit Webuser");$.each(n,function(a){var c=n[a];a=c.id;var b=c.username,e=void 0===c.first_name?"":c.first_name,g=void 0===c.last_name?"":c.last_name;c=void 0===c.reseller_id?null:c.reseller_id;e=""!==e&&""!==g?" - "+e+" "+g:"";f+="<li class='icon-user'>";f+='<a href="javascript:void(0)" title="'+w+'" onclick="modalEditWebuser('+
a+", '"+l.attr("id")+"')\"><strong>["+u+"#"+a+"]</strong> <b>"+b+"</b>"+e;0<c&&(f+="<small> ("+v+": #"+c+")</small>");f+="</a>";f+="</li>"})}f+="</ul>"}else f='<span style="font-style: oblique; font-weight: normal; font-size: 11px;">'+tjs.get("No users are assigned to this virtual server")+"</span>"}else f='<span style="font-style: oblique; font-weight: normal; font-size: 11px;">'+tjs.get("No users are assigned to this virtual server")+"</span>";c.attr("src",e);c.attr("style","width: 16px; height: 16px; vertical-align: sub; opacity: 0.5;");
l.parent("div").next("div").hide();l.parent("div").next("div").html(f);l.parent("div").next("div").fadeIn("slow",function(){l.next("a").fadeIn("slow")});m&&(m=$("#"+m),m.find("a").tip({position:"right"}),m.accessibleList({moreAfter:2,pageSize:4,startPage:1,moreText:tjs.get("show more"),lessText:tjs.get("show less"),openedOnStart:t,after:function(){b(this);g(this)}}))})}return!1});var x=$("#table-action");$("button[type=submit]").click(function(a){a.preventDefault();if("instanceMsg"===x.val()&&(a=
prompt(tjs.get("TEXT MESSAGE:"),tjs.get("Max. 300 characters")))){$(this).parent().append('<input type="hidden" name="text_msg" value="'+a+'">');var b=$(this).parents("form");$.modal({content:'<p><div class="warnings align-center"><b>'+tjs.get("Do you really want to do this?")+"</b></div></p>",title:tjs.get("Confirm"),draggable:!0,closeButton:!1,maxWidth:280,buttons:{Continue:function(){b.submit()},Close:function(a){a.closeModal()}}})}});1>y?$(document).ready(function(){$(".modal-virtual-server-create:first").trigger("click")}):
(1===e?$(".not-cached").click(function(){init_caching(100)}):$(".not-cached").click(function(){init_loading(100)}),1===h&&($(".virtualserver-note").click(function(a){var b=$(this).attr("data-attached"),c=$("#randomColor").prop("checked"),e=0<=$(this).find("img:first").attr("src").indexOf("pkg-default");$.PostItAll.new({id:b,content:"("+$(this).parent("td").prev("td").text()+") "+$(this).prev("a").children("strong").text(),attachedTo:{element:"#"+b,position:"right",arrow:!0,fixed:!0},meta:{},cssclases:{note:c?
"":"customNote"},style:{tresd:e,fontFamily:"verdana",fontsize:"11px",textshadow:!1},features:$.extend({},$.fn.postitall.globals,!0)});a.preventDefault()}),$(".virtualserver-note-pinned").click(function(a){var b=$("#PIApostit_"+$(this).attr("data-attached"));b.is(":visible")?"Restore note"===$("#pia_minimize_"+$(this).attr("data-attached")).attr("title")?$("#pia_minimize_"+$(this).attr("data-attached")).trigger("click"):b.postitall("options",{attachedTo:{element:"#"+$(this).attr("data-attached"),position:"right",
arrow:!0,fixed:!0}}):b.postitall("show");a.preventDefault()}),$("#randomColor").click(function(){$(this).prop("checked")?document.cookie="tsi-instance-notes-random-color=true; samesite=lax; expires="+k:document.cookie="tsi-instance-notes-random-color=false; samesite=lax; expires="+n}),$(".notes-hide-all").click(function(a){$.PostItAll.hide();a.preventDefault()}),$(".notes-show-all").click(function(a){$.PostItAll.show();a.preventDefault()}),$(".notes-delete-all").click(function(a){$.PostItAll.remove();
"function"===typeof refreshNoteCount&&refreshNoteCount();a.preventDefault()})),$(".ajax-virtualserver-status-toggle").click(function(){var a=$(this).parent("li").parent("ul").find(".loader:first");a.show();$(this).serverSetStatus({},function(){this.parent("li").parent("ul").find("li:hidden").show();this.parent("li").hide();a.hide()})}),$(".ajax-virtualserver-autostart-toggle").click(function(){var a=$(this).parent("td").find(".loader:first");a.show();$(this).serverSetAutoStart({},function(){this.parent("td").find("a:hidden").show();
this.hide();a.hide()})}),$(".modal-confirm-submit").click(function(a){if("instanceMsg"!==x.val()){a.preventDefault();var b=$(this).parents("form");$.modal({content:'<p><div class="warnings align-center"><b>'+tjs.get("Do you really want to do this?")+"</b></div></p>",title:tjs.get("Confirm"),draggable:!0,closeButton:!1,maxWidth:280,buttons:{Continue:function(){b.submit()},Close:function(a){a.closeModal()}}})}}),$(".modal-confirm").click(function(a){a.preventDefault();var b=$(this).attr("href");$.modal({content:'<p><div class="warnings align-center"><b>'+
tjs.get("Do you really want to do this?")+"</b></div></p>",title:tjs.get("Confirm"),draggable:!0,closeButton:!1,maxWidth:280,buttons:{Continue:function(){document.location.href=b},Close:function(a){a.closeModal()}}})}),$(".select-all").click(function(){$(this).parent().parent().parent("form").find("input[type=checkbox]").each(function(){this.checked=!0})}),$(".unselect-all").click(function(){$(this).parent().parent().parent("form").find("input[type=checkbox]").each(function(){this.checked=!1})}),
$.fn.dataTableExt.oStdClasses.sWrapper="no-margin last-child",$.fn.dataTableExt.oStdClasses.sInfo="message no-margin table-message",$.fn.dataTableExt.oStdClasses.sLength="float-left",$.fn.dataTableExt.oStdClasses.sFilter="float-right",$.fn.dataTableExt.oStdClasses.sPaging="sub-hover paging_",$.fn.dataTableExt.oStdClasses.sPagePrevEnabled="control-prev",$.fn.dataTableExt.oStdClasses.sPagePrevDisabled="control-prev disabled",$.fn.dataTableExt.oStdClasses.sPageNextEnabled="control-next",$.fn.dataTableExt.oStdClasses.sPageNextDisabled=
"control-next disabled",$.fn.dataTableExt.oStdClasses.sPageFirst="control-first",$.fn.dataTableExt.oStdClasses.sPagePrevious="control-prev",$.fn.dataTableExt.oStdClasses.sPageNext="control-next",$.fn.dataTableExt.oStdClasses.sPageLast="control-last",$(".sortable").each(function(){var a=$(this),b=a.dataTable({bDestroy:!0,sDom:'<"block-controls"<"controls-buttons"p>>rti<"block-footer clearfix"lf>',language:{paginate:{previous:tjs.get("control-prev"),next:tjs.get("control-next"),last:tjs.get("Last page"),
first:tjs.get("First page"),search:tjs.get("Search"),info:tjs.get("Showing _START_ to _END_ of _TOTAL_ entries"),sInfoEmpty:tjs.get("Showing 0 to 0 of 0 entries"),sLengthMenu:tjs.get("Show _MENU_ entries")}},fnDrawCallback:function(){this.parent().applyTemplateSetup()},fnInitComplete:function(){this.parent().applyTemplateSetup()}});a.find("thead .sort-up").click(function(a){a.preventDefault();a=$(this).closest("th");a=a.parent().children().index(a.get(0));b.fnSort([[a,"asc"]]);return!1});a.find("thead .sort-down").click(function(a){a.preventDefault();
a=$(this).closest("th");a=a.parent().children().index(a.get(0));b.fnSort([[a,"desc"]]);return!1})}))});
function modalEditWebuser(b,g){$.modal({title:tjs.get("Edit Webuser"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=accountSaEdit&uid="+encodeURIComponent(btoa(b))+"&redirect=",width:640,height:520,complete:function(){$("#lang").msDropDown().data("dd")},buttons:{"Save & Proceed":function(b){b.getModalContentBlock().find("form").submit();setTimeout(function(){parent.$("#"+g).next("a").trigger("click")},200)},Close:function(b){b.closeModal()}}})}
function modalEditReseller(b,g){$.modal({title:tjs.get("Edit Reseller"),draggable:!0,closeButton:!0,url:"index.php?controller=reseller&action=modalResellerSaEdit&uid="+encodeURIComponent(btoa(b))+"&redirect=",width:640,height:520,complete:function(){$("#lang").msDropDown().data("dd")},buttons:{"Save & Proceed":function(b){b.getModalContentBlock().find("form").submit();setTimeout(function(){parent.$("#"+g).next("a").trigger("click")},200)},Close:function(b){b.closeModal()}}})};
