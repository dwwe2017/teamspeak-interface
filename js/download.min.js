(function(q,a){"function"===typeof define&&define.amd?define([],a):"object"===typeof exports?module.exports=a():q.download=a()})(this,function(){return function r(a,b,k){function p(a){if("string"===typeof a){var e=a.split(/[:;,]/);a=e[1];e=("base64"===e[2]?atob:decodeURIComponent)(e.pop());var c=e.length,b=0,d=new Uint8Array(c);for(b;b<c;++b)d[b]=e.charCodeAt(b);return new g([d],{type:a})}}function l(a,b){if("download"in c)return c.href=a,c.setAttribute("download",m),c.className="download-js-link",
c.innerHTML="downloading...",c.style.display="none",document.body.appendChild(c),setTimeout(function(){c.click();document.body.removeChild(c);!0===b&&setTimeout(function(){f.URL.revokeObjectURL(c.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return a=a.replace(/^data:([\w\/\-\+]+)/,"application/octet-stream"),!window.open(a)&&confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=
a),!0;var e=document.createElement("iframe");document.body.appendChild(e);b||(a="data:"+a.replace(/^data:([\w\/\-\+]+)/,"application/octet-stream"));e.src=a;setTimeout(function(){document.body.removeChild(e)},333)}var f=window,d=k||"application/octet-stream",h=!b&&!k&&a,c=document.createElement("a");k=function(a){return String(a)};var g=f.Blob||f.MozBlob||f.WebKitBlob||k,m=b||"download";g=g.call?g.bind(f):Blob;"true"===String(this)&&(a=[a,d],d=a[0],a=a[1]);if(h&&2048>h.length){if("string"!==typeof h)return;
m=h.split("/").pop().split("?")[0];c.href=h;if(-1!==c.href.indexOf(h)){var n=new XMLHttpRequest;n.open("GET",h,!0);n.responseType="blob";n.onload=function(a){r(a.target.response,m,"application/octet-stream")};setTimeout(function(){n.send()},0);return n}}if(/^data:[\w+\-]+\/[\w+\-]+[,;]/.test(a))if(2096103.424<a.length&&g!==k)a=p(a),d=a.type||"application/octet-stream";else return navigator.msSaveBlob?navigator.msSaveBlob(p(a),m):l(a);b=a instanceof g?a:new g([a],{type:d});if(navigator.msSaveBlob)return navigator.msSaveBlob(b,
m);if(f.URL)l(f.URL.createObjectURL(b),!0);else{if("string"===typeof b||b.constructor===k)try{return l("data:"+d+";base64,"+f.btoa(b))}catch(e){return l("data:"+d+","+encodeURIComponent(b))}d=new FileReader;d.onload=function(a){l(this.result)};d.readAsDataURL(b)}return!0}});
