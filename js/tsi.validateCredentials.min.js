(function(c){c.fn.validateCredentials=function(b){var a=c.extend({a:"",user:c("#user").val(),pass:btoa(c("#pass").val()),keep:c("#keep").prop("checked")?1:0,block:this},b),d=c(a.block);if(a.user&&0!==a.user.length)if(a.pass&&0!==a.pass.length){(b="index.php?controller=ajax&action=validateCredentials",""!==b)||(b=document.location.href.match(/^([^#]+)/)[1]);a={a:a.a,user:a.user,pass:a.pass,keep:a.keep};var e=c("#reseller").val();e&&(a.reseller=e);var f=(new Date).getTime();c.ajax({url:b,dataType:"json",
type:"POST",data:a,success:function(a,b,c){a.valid?(b=(new Date).getTime(),500>b-f?setTimeout(function(){document.location.href=a.redirect},500-(b-f)):document.location.href=a.redirect):a.error?d.removeBlockMessages().blockMessage(a.error||tjs.get("An unexpected error occurred, please try again"),{type:"error",position:"top"}):a.warning&&d.removeBlockMessages().blockMessage(a.warning||tjs.get("An unexpected error occurred, please try again"),{type:"warning",position:"top"})},error:function(a,b,c){d.removeBlockMessages().blockMessage(tjs.get("Error while contacting server, please try again"),
{type:"error",position:"top"})}});d.removeBlockMessages().blockMessage(tjs.get("Please wait, checking credentials..."),{type:"loading",position:"top"})}else d.removeBlockMessages().blockMessage(tjs.get("Password is missing"),{type:"warning",position:"top"});else d.removeBlockMessages().blockMessage(tjs.get("Username is missing"),{type:"warning",position:"top"})};String.prototype.rot13=function(){return this.replace(/[a-zA-Z]/g,function(b){return String.fromCharCode(("Z">=b?90:122)>=(b=b.charCodeAt(0)+
13)?b:b-26)})}})(jQuery);
