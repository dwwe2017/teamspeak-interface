(function(b){b.fn.musicBotPlayerAction=function(e,f){var a=b.extend({a:"",id:"",sid:"",cldbid:"",player_action:b(this).attr("data-action"),block:"#client-properties"},e),c="refresh"!==a.player_action,d=b(a.block);if(a.id&&0!==a.id.length)if(a.sid&&0!==a.sid.length)if(a.cldbid&&0!==a.cldbid.length)if(a.player_action&&0!==a.player_action.length){(e="index.php?controller=ajax&action=musicBotPlayerAction",""!==e)||(e=document.location.href.match(/^([^#]+)/)[1]);a={a:a.a,id:a.id,sid:a.sid,cldbid:a.cldbid,
player_action:a.player_action};var g=(new Date).getTime();b.ajax({url:e,dataType:"json",type:"POST",data:a,success:function(a,b,e){a.valid?(b=(new Date).getTime(),500>b-g?setTimeout(function(){!c||d.removeBlockMessages({except:"table-message"}).blockMessage(tjs.get("Action executed successfully"),{type:"success",position:"current"})},500-(b-g)):!c||d.removeBlockMessages({except:"table-message"}).blockMessage(tjs.get("Action executed successfully"),{type:"success",position:"current"}),"function"===
typeof f&&f.call(a)):a.error?c&&d.removeBlockMessages({except:"table-message"}).blockMessage(a.error||tjs.get("An unexpected error occurred, please try again"),{type:"error",position:"current"}):!a.warning||c&&d.removeBlockMessages({except:"table-message"}).blockMessage(a.warning||tjs.get("An unexpected error occurred, please try again"),{type:"warning",position:"current"})},error:function(a,b,e){!c||d.removeBlockMessages({except:"table-message"}).blockMessage(tjs.get("Error while contacting server, please try again"),
{type:"error",position:"current"})}});!c||d.removeBlockMessages({except:"table-message"}).blockMessage(tjs.get("Please wait, processing..."),{type:"loading",position:"current"})}else!c||d.removeBlockMessages({except:"table-message"}).blockMessage(tjs.get("Action is missing"),{type:"warning",position:"current"});else!c||d.removeBlockMessages({except:"table-message"}).blockMessage(tjs.get("Client database id is missing"),{type:"warning",position:"current"});else!c||d.removeBlockMessages({except:"table-message"}).blockMessage(tjs.get("Virtual server id is missing"),
{type:"warning",position:"current"});else!c||d.removeBlockMessages({except:"table-message"}).blockMessage(tjs.get("Entity id is missing"),{type:"warning",position:"current"})}})(jQuery);
