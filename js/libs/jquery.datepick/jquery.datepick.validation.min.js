/* http://keith-wood.name/datepick.html
   Datepicker Validation extension for jQuery 4.0.3.
   Requires Jörn Zaefferer's Validation plugin (http://plugins.jquery.com/project/validate).
   Written by Keith Wood (kbwood{at}iinet.com.au).
   Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and 
   MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses. 
   Please attribute the author if you use it. */
(function($){if($.fn.validate){$.datepick.selectDateOrig=$.datepick.selectDate;$.extend($.datepick.regional[''],{validateDate:'Please enter a valid date',validateDateMin:'Please enter a date on or after {0}',validateDateMax:'Please enter a date on or before {0}',validateDateMinMax:'Please enter a date between {0} and {1}'});$.extend($.datepick._defaults,$.datepick.regional['']);$.extend($.datepick,{selectDate:function(a,b){this.selectDateOrig(a,b);var c=$.data(a,$.datepick.dataName);if(!c.inline&&$.fn.validate){var d=$(a).parents('form').validate();if(d){d.element('#'+a.id)}}},errorPlacement:function(a,b){var c=$.data(b[0],$.datepick.dataName);if(c){a[c.get('isRTL')?'insertBefore':'insertAfter'](c.trigger.length>0?c.trigger:b)}else{a.insertAfter(b)}},errorFormat:function(c,d){var e=($.datepick.curInst?$.datepick.curInst.get('dateFormat'):$.datepick._defaults.dateFormat);$.each(d,function(a,b){c=c.replace(new RegExp('\\{'+a+'\\}','g'),$.datepick.formatDate(e,b)||'nothing')});return c}});function validateEach(a,b){var c=$.data(b,$.datepick.dataName);var d=c.get('rangeSelect');var f=c.get('multiSelect');var g=(f?a.split(c.get('multiSeparator')):(d?a.split(c.get('rangeSeparator')):[a]));var h=(f&&g.length<=f)||(!f&&d&&g.length==2)||(!f&&!d&&g.length==1);if(h){try{var j=c.get('dateFormat');var k=$(b);$.each(g,function(i,v){g[i]=$.datepick.parseDate(j,v);h=h&&(!g[i]||k.datepick('isSelectable',g[i]))})}catch(e){h=false}}if(h&&d){h=(g[0].getTime()<=g[1].getTime())}return h}$.validator.addMethod('dpDate',function(a,b){return this.optional(b)||validateEach(a,b)},function(a){return $.datepick._defaults.validateDate});$.validator.addMethod('dpMinDate',function(a,b,c){var d=$.data(b,$.datepick.dataName);c[0]=d.get('minDate');return this.optional(b)||validateEach(a,b)},function(a){return $.datepick.errorFormat($.datepick._defaults.validateDateMin,a)});$.validator.addMethod('dpMaxDate',function(a,b,c){var d=$.data(b,$.datepick.dataName);c[0]=d.get('maxDate');return this.optional(b)||validateEach(a,b)},function(a){return $.datepick.errorFormat($.datepick._defaults.validateDateMax,a)});$.validator.addMethod('dpMinMaxDate',function(a,b,c){var d=$.data(b,$.datepick.dataName);c[0]=d.get('minDate');c[1]=d.get('maxDate');return this.optional(b)||validateEach(a,b)},function(a){return $.datepick.errorFormat($.datepick._defaults.validateDateMinMax,a)})}})(jQuery);