(function(c){c.fn.serverTokenCreate=function(d,e){var a=c.extend({a:"",id:"",sid:"",type:c("#type").val(),servergroup:c("#servergroup").val(),channelgroup:c("#channelgroup").val(),cid:c("#cid").val(),description:c("#description").val(),block:this},d),b=c(a.block);if(a.id&&0!==a.id.length)if(a.sid&&0!==a.sid.length)if(a.type&&0!==a.type.length)if(a.servergroup&&0!==a.servergroup.length)if(a.channelgroup&&0!==a.channelgroup.length)if(a.cid&&0!==a.cid.length){(d="index.php?controller=ajax&action=tokenCreate",
""!==d)||(d=document.location.href.match(/^([^#]+)/)[1]);a={a:a.a,id:a.id,sid:a.sid,type:a.type,servergroup:a.servergroup,channelgroup:a.channelgroup,cid:a.cid,description:a.description};var f=(new Date).getTime();c.ajax({url:d,dataType:"json",type:"POST",data:a,success:function(a,c,d){a.valid?(a=(new Date).getTime(),500>a-f?setTimeout(function(){b.removeBlockMessages().blockMessage(tjs.get("Token created successfully"),{type:"success",position:"top"})},500-(a-f)):b.removeBlockMessages().blockMessage(tjs.get("Token created successfully"),
{type:"success",position:"top"}),"function"===typeof e&&e.call(b)):a.error?b.removeBlockMessages().blockMessage(a.error||tjs.get("An unexpected error occurred, please try again"),{type:"error",position:"top"}):a.warning&&b.removeBlockMessages().blockMessage(a.warning||tjs.get("An unexpected error occurred, please try again"),{type:"warning",position:"top"})},error:function(a,c,d){b.removeBlockMessages().blockMessage(tjs.get("Error while contacting server, please try again"),{type:"error",position:"top"})}});
b.removeBlockMessages().blockMessage(tjs.get("Please wait, processing..."),{type:"loading",position:"top"})}else b.removeBlockMessages().blockMessage(tjs.get("Channel id is missing"),{type:"warning",position:"top"});else b.removeBlockMessages().blockMessage(tjs.get("Channelgroup id is missing"),{type:"warning",position:"top"});else b.removeBlockMessages().blockMessage(tjs.get("Servergroup id is missing"),{type:"warning",position:"top"});else b.removeBlockMessages().blockMessage(tjs.get("Group type is missing"),
{type:"warning",position:"top"});else b.removeBlockMessages().blockMessage(tjs.get("Virtual server id is missing"),{type:"warning",position:"top"});else b.removeBlockMessages().blockMessage(tjs.get("Entity id is missing"),{type:"warning",position:"top"})}})(jQuery);
