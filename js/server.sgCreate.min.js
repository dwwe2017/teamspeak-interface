(function(b){b.fn.serverServergroupCreate=function(d){var a=b.extend({a:b("#a").val(),id:b("#id").val(),sid:b("#sid").val(),type:b("input[name=sgtype]:checked").val(),name:b("#sgname").val(),applypermsfrom:b("#applypermsfrom").val(),block:this},d),c=b(a.block);if(a.id&&0!==a.id.length)if(a.sid&&0!==a.sid.length)if(a.type&&0!==a.type.length)if(a.name&&0!==a.name.length)if(a.applypermsfrom&&0!==a.applypermsfrom.length){(d="index.php?controller=ajax&action=sgCreate",""!==d)||(d=document.location.href.match(/^([^#]+)/)[1]);
a={a:a.a,id:a.id,sid:a.sid,type:a.type,name:a.name,applypermsfrom:a.applypermsfrom};var e=(new Date).getTime();b.ajax({url:d,dataType:"json",type:"POST",data:a,success:function(a,b,d){a.valid?(b=(new Date).getTime(),500>b-e?setTimeout(function(){document.location.href=a.redirect},500-(b-e)):document.location.href=a.redirect):a.error?c.removeBlockMessages().blockMessage(a.error||tjs.get("An unexpected error occurred, please try again"),{type:"error",position:"top"}):a.warning&&c.removeBlockMessages().blockMessage(a.warning||
tjs.get("An unexpected error occurred, please try again"),{type:"warning",position:"top"})},error:function(a,b,d){c.removeBlockMessages().blockMessage(tjs.get("Error while contacting server, please try again"),{type:"error",position:"top"})}});c.removeBlockMessages().blockMessage(tjs.get("Please wait, processing..."),{type:"loading",position:"top"})}else c.removeBlockMessages().blockMessage(tjs.get("Permissions servergroup is missing"),{type:"warning",position:"top"});else c.removeBlockMessages().blockMessage(tjs.get("Servergroup name is missing"),
{type:"warning",position:"top"});else c.removeBlockMessages().blockMessage(tjs.get("Servergroup type is missing"),{type:"warning",position:"top"});else c.removeBlockMessages().blockMessage(tjs.get("Virtual server id is missing"),{type:"warning",position:"top"});else c.removeBlockMessages().blockMessage(tjs.get("Entity id is missing"),{type:"warning",position:"top"})}})(jQuery);
