var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};
$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
function modalAlertMsg(a){$.modal({title:tjs.get("Attention"),content:'<p><div class="warnings align-center"><b>'+a+"</b></div></p>",draggable:!0,closeButton:!0,scrolling:!0,buttons:{Close:function(a){a.closeModal()}}})}function modalConfirmMsg(a,b){$.modal({title:tjs.get("Confirm"),content:'<p><div class="warnings align-center"><b>'+a+"</b></div></p>",draggable:!0,closeButton:!0,scrolling:!0,buttons:{Continue:function(a){"function"===typeof b&&b.call(a)},Close:function(a){a.closeModal()}}})}
function modalClientModifyByClid(a,b,c,d){$.modal({title:tjs.get("Edit Client Properties"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=clientModify&id="+a+"&sid="+b+"&cid="+c+"&clid="+d,width:1E3,height:520,scrolling:!0,buttons:{Close:function(a){a.closeModal()}}})}
function modalClientModifyByClDbId(a,b,c){$.modal({title:tjs.get("Edit Client Properties"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=clientModify&id="+a+"&sid="+b+"&cldbid="+c,width:1E3,height:520,scrolling:!0,buttons:{Close:function(a){a.closeModal()}}})}
function modalClientModifyByUid(a,b,c){$.modal({title:tjs.get("Edit Client Properties"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=clientModify&id="+a+"&sid="+b+"&uid="+c,width:1E3,height:520,scrolling:!0,buttons:{Close:function(a){a.closeModal()}}})}
function modalClientModifyByName(a,b,c){$.modal({title:tjs.get("Edit Client Properties"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=clientModify&id="+a+"&sid="+b+"&name="+c,width:1E3,height:520,scrolling:!0,buttons:{Close:function(a){a.closeModal()}}})}
function modalClientMove(a,b,c){$.modal({title:tjs.get("Move to .."),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=clientMove&id="+a+"&sid="+b+"&clid="+c,width:480,height:120,scrolling:!0,buttons:{Close:function(a){a.closeModal()},Move:function(d){var e=d.getModalContentBlock().find("#channel_selection").children("option:selected").val();parent.$("#tsi-viewer-block").clientMove({id:a,sid:b,cid:e,clid:c},function(){parent.$("#tsv-explorer").tsviewerRefresh(!1);d.closeModal()})}}})}
function modalChannelModifyByCid(a,b,c){$.modal({title:tjs.get("Edit Channel Properties"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=channelModify&id="+a+"&sid="+b+"&cid="+c,width:1E3,height:520,scrolling:!0,buttons:{Revert:function(a){a.getModalContentBlock().find("form")[0].reset()},Save:function(c){c.getModalContentBlock().find("section").editProperites({id:a,sid:b},function(){if(0!==$("#title-icon").length){var a=$("span#channel_icon_id_title").children("img:first").attr("src");
a?$("#title-icon").attr("src",a).show():$("#title-icon").hide()}})},Close:function(a){a.closeModal()}}})}
function modalChannelMove(a,b,c){$.modal({title:tjs.get("Move to .."),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=channelMove&id="+a+"&sid="+b+"&cid="+c,width:480,height:120,scrolling:!0,buttons:{Close:function(a){a.closeModal()},Move:function(d){var e=d.getModalContentBlock().find("#channel_selection").children("option:selected").val();parent.$("#tsi-viewer-block").channelMove({id:a,sid:b,cid:c,pid:e,order_id:"0"},function(){parent.$("#tsv-explorer").tsviewerRefresh(!1);d.closeModal()})}}})}
function modalChannelMoveHere(a,b,c){$.modal({title:tjs.get("Move here .."),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=channelMoveHere&id="+a+"&sid="+b+"&cid="+c,width:480,height:200,scrolling:!0,buttons:{Close:function(a){a.closeModal()},"Select all":function(a){a.getModalContentBlock().find("#client_selection:first").find("option").prop("selected",!0)},Move:function(d){var e=parent.$("#tsi-viewer-block"),f=d.getModalContentBlock().find("#client_selection:first").find("option:selected"),
u=0;0<f.length?f.each(function(){e.clientMove({id:a,sid:b,cid:c,clid:this.value},function(){u++;u>=f.length&&(parent.$("#tsv-explorer").tsviewerRefresh(!1),d.closeModal())})}):modalAlertMsg(tjs.get("No clients selected"))}}})}
function modalLogView(a,b,c){"teaspeak"===(void 0===c?"default":c)?$.modal({title:tjs.get("Last Logs"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=logView&id="+a+"&sid="+b,width:800,height:520,scrolling:!0,buttons:{Close:function(a){a.closeModal()}}}):$.modal({title:tjs.get("Last Logs"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=logView&id="+a+"&sid="+b,width:800,height:520,scrolling:!0,buttons:{"Create Log Entry":function(){modalLogAdd(a,b)},Close:function(a){a.closeModal()}}})}
$(".modal-logs").click(function(a){a.preventDefault();modalLogView($(this).attr("data-id"),$(this).attr("data-sid"),$(this).attr("data-basis"))});
function modalLogAdd(a,b){$.modal({title:tjs.get("Create Log Entry"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=logAdd&id="+a+"&sid="+b,buttons:{Save:function(c){var d=parent.$("#view-logs-block").getModalWindow();c.getModalContentBlock().serverAddLog({id:a,sid:b},function(){d.loadModalContent("index.php?controller=modal&action=logView&id="+a+"&sid="+b)})},Close:function(a){a.closeModal()}}})}
function modalSnapshotImport(a,b){$.modal({title:tjs.get("Import Snapshot"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=snapshotImport&id="+a+"&sid="+b,buttons:{Import:function(c){var d=parent.$("#view-snapshots-block").getModalWindow();c.find("form").serverSnapshotImport({id:a,sid:b},function(){d.loadModalContent("index.php?controller=modal&action=snapshotList&id="+a+"&sid="+b)})},Close:function(a){a.closeModal()}}})}
function modalBanList(a,b){$.modal({title:tjs.get("Banlist"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=banList&id="+a+"&sid="+b,width:800,height:520,scrolling:!0,buttons:{Close:function(a){a.closeModal()}}})}$(".modal-bans").click(function(a){a.preventDefault();modalBanList($(this).attr("data-id"),$(this).attr("data-sid"))});
function modalComplaintList(a,b){$.modal({title:tjs.get("Complaint List"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=complaintList&id="+a+"&sid="+b,width:800,height:520,scrolling:!0,buttons:{Close:function(a){a.closeModal()}}})}$(".modal-complaints").click(function(a){a.preventDefault();modalComplaintList($(this).attr("data-id"),$(this).attr("data-sid"))});
function modalSgCreate(a,b,c){var d="";c&&0!==c.length&&(d="&redirect="+encodeURIComponent($(location).attr("href")));$.modal({title:tjs.get("Create Servergroup"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=sgCreate&id="+a+"&sid="+b+d,scrolling:!0,padding:!1,buttons:{"Save & Proceed":function(c){c.getModalContentBlock().serverServergroupCreate({id:a,sid:b})},Close:function(a){a.closeModal()}}})}
$(".modal-sg-create").click(function(a){a.preventDefault();modalSgCreate($(this).attr("data-id"),$(this).attr("data-sid"),$(this).attr("href"))});
function modalCgCreate(a,b,c){var d="";c&&0!==c.length&&(d="&redirect="+encodeURIComponent(c));$.modal({title:tjs.get("Create Channelgroup"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=cgCreate&id="+a+"&sid="+b+d,scrolling:!0,padding:!1,buttons:{"Save & Proceed":function(c){c.getModalContentBlock().serverChannelgroupCreate({id:a,sid:b})},Close:function(a){a.closeModal()}}})}
$(".modal-cg-create").click(function(a){a.preventDefault();modalCgCreate($(this).attr("data-id"),$(this).attr("data-sid"),$(this).attr("href"))});
function modalCgEdit(a,b,c,d){var e="";d&&0!==d.length&&(e="&redirect="+encodeURIComponent(d));$.modal({title:tjs.get("Edit Channelgroup"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=cgEdit&id="+a+"&sid="+b+"&cgid="+c+e,scrolling:!0,padding:!1,buttons:{"Save & Proceed":function(d){d.getModalContentBlock().serverChannelgroupEdit({id:a,sid:b,cgid:c})},Close:function(a){a.closeModal()}}})}
function modalChannelCreate(a,b,c){var d="";c&&0!==c.length&&(d="&redirect="+encodeURIComponent(c));$.modal({title:tjs.get("Create Channel"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=channelCreate&id="+a+"&sid="+b+d,scrolling:!0,width:1E3,height:520,buttons:{"Save & Proceed":function(c){c.getModalContentBlock().serverChannelCreate({id:a,sid:b})},Close:function(a){a.closeModal()}}})}
$(".modal-channel-create").click(function(a){a.preventDefault();modalChannelCreate($(this).attr("data-id"),$(this).attr("data-sid"),$(this).attr("href"))});
function modalServerCreate(a,b){var c="";b&&0!==b.length&&(c="&redirect="+encodeURIComponent(b));tjs.get("Close");tjs.get("Save & Proceed");$.modal({title:tjs.get("Create Virtual Server"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=serverCreate&id="+a+c,scrolling:!0,width:1E3,height:520,buttons:{"Save & Proceed":function(b){b.getModalContentBlock().serverCreate({id:a})},Close:function(a){a.closeModal()}}})}
$(".modal-virtual-server-create").click(function(a){a.preventDefault();modalServerCreate($(this).attr("data-id"),$(this).attr("href"))});
function modalSgEdit(a,b,c,d){var e="";d&&0!==d.length&&(e="&redirect="+encodeURIComponent(d));$.modal({title:tjs.get("Edit Servergroup"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=sgEdit&id="+a+"&sid="+b+"&sgid="+c+e,scrolling:!0,padding:!1,buttons:{"Save & Proceed":function(d){d.getModalContentBlock().serverServergroupEdit({id:a,sid:b,sgid:c})},Close:function(a){a.closeModal()}}})}
function modalServerTplCreate(a,b){var c="";b&&0!==b.length&&(c="&redirect="+encodeURIComponent(b));$.modal({title:tjs.get("New Virtual Server Template"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=serverTplCreate&id="+a+c,scrolling:!0,width:1E3,height:520,buttons:{Save:function(b){var d=parent.$("#view-server-tpl-block").getModalWindow();b.getModalContentBlock().serverTplCreate({id:a},function(){d?(d.removeBlockMessages({except:"table-message"}).blockMessage(tjs.get("Refreshing list..."),
{type:"loading",position:"top"}),setTimeout(function(){setTimeout(function(){d.loadModalContent("index.php?controller=modal&action=serverTplList&id="+a+c)},900);b.closeModal()},100)):setTimeout(function(){b.closeModal()},100)})},Close:function(a){a.closeModal()}}})}$(".modal-virtual-server-tpl-add").click(function(a){a.preventDefault();modalServerTplCreate($(this).attr("data-id"),$(this).attr("href"))});
function modalServerTplList(a,b){var c="";b&&0!==b.length&&(c="&redirect="+encodeURIComponent(b));$.modal({title:tjs.get("Manage Templates"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=serverTplList&id="+a+c,width:800,height:520,scrolling:!0,buttons:{"New Template":function(){modalServerTplCreate(a,b)},"Refresh list":function(b){b.loadModalContent("index.php?controller=modal&action=serverTplList&id="+a+c,{loadingMessage:tjs.get("Loading")})},Close:function(a){a.closeModal()}}})}
$(".modal-virtual-server-tpl-list").click(function(a){a.preventDefault();modalServerTplList($(this).attr("data-id"),$(this).attr("href"))});function modalTokenList(a,b){$.modal({title:tjs.get("Token List"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=tokenList&id="+a+"&sid="+b,width:800,height:520,scrolling:!0,buttons:{"Create Token":function(){modalTokenCreate(a,b)},Close:function(a){a.closeModal()}}})}
$(".modal-token").click(function(a){a.preventDefault();modalTokenList($(this).attr("data-id"),$(this).attr("data-sid"))});
function modalTokenCreate(a,b){$.modal({title:tjs.get("Create Token"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=tokenCreate&id="+a+"&sid="+b,buttons:{Save:function(c){var d=parent.$("#view-token-block").getModalWindow();c.getModalContentBlock().serverTokenCreate({id:a,sid:b},function(){d.loadModalContent("index.php?controller=modal&action=tokenList&id="+a+"&sid="+b)})},Close:function(a){a.closeModal()}}})}
function modalApiKeyList(a,b){$.modal({title:tjs.get("Api keys"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=apiKeyList&id="+a+"&sid="+b,width:800,height:520,scrolling:!0,buttons:{"Create Api key":function(){modalApiKeyCreate(a,b)},Close:function(a){a.closeModal()}}})}$(".modal-apikeylist").click(function(a){a.preventDefault();modalApiKeyList($(this).attr("data-id"),$(this).attr("data-sid"))});
function modalApiKeyCreate(a,b){$.modal({title:tjs.get("Create Api key"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=apiKeyCreate&id="+a+"&sid="+b,buttons:{Save:function(c){var d=parent.$("#apikeylist-block").getModalWindow();c.getModalContentBlock().serverApiKeyCreate({id:a,sid:b},function(){d.loadModalContent("index.php?controller=modal&action=apiKeyList&id="+a+"&sid="+b);setTimeout(function(){c.closeModal()},500)})},Close:function(a){a.closeModal()}}})}
$(".modal-instance-add").click(function(a){a.preventDefault();a=encodeURIComponent($(this).attr("href"));$.modal({title:tjs.get("Add Server Instance"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=instanceAdd&redirect="+a,width:460,height:490,complete:function(){$("#instance_icon").msDropDown().data("dd")},buttons:{"Add Instance":function(a){a.getModalContentBlock().find("form").submit()},Close:function(a){a.closeModal()}}})});
$(".modal-instance-edit").click(function(a){a.preventDefault();a=$(this).attr("href");$.modal({title:tjs.get("Edit Tea(m)speak Instance"),draggable:!0,closeButton:!0,url:a,width:460,height:490,complete:function(){$("#instance_icon").msDropDown().data("dd")},buttons:{"Save Changes":function(a){a.getModalContentBlock().find("form").submit()},Close:function(a){a.closeModal()}}})});
$(".modal-snapshots").click(function(a){a.preventDefault();var b=$(this).attr("data-id"),c=$(this).attr("data-sid");$.modal({title:tjs.get("Snapshots"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=snapshotList&id="+b+"&sid="+c,width:800,height:520,buttons:{"Create Snapshot":function(a){$("#view-snapshots-block").serverSnapshotCreate({id:b,sid:c},function(){$(this).getModalWindow().loadModalContent("index.php?controller=modal&action=snapshotList&id="+b+"&sid="+c)})},"Build TSI Backup Package":function(a){$("#view-snapshots-block").serverTsiBackupBuild({id:b,
sid:c},function(){$(this).getModalWindow().loadModalContent("index.php?controller=modal&action=snapshotList&id="+b+"&sid="+c)})},"Import Snapshots":function(a){modalSnapshotImport(b,c)},Close:function(a){a.closeModal()}}})});
$(".modal-import-instance-data").click(function(a){a.preventDefault();a=$(this).attr("data-id");var b=encodeURIComponent($(this).attr("href"));$.modal({title:tjs.get("Import/Update Instance Permissions"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=importInstanceData&id="+a+"&redirect="+b,width:480,height:280,buttons:{"Import & Refresh":function(a){a.getModalContentBlock().find("form").submit()},Close:function(a){a.closeModal()}}})});
$(".modal-import-icon-instance-data").click(function(a){a.preventDefault();var b=$(this).attr("data-id");a=encodeURIComponent($(this).attr("href"));var c,d;$.modal({title:tjs.get("Import/Update Icons (Instance)"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=importInstanceIcons&id="+b+"&redirect="+a,width:480,height:280,complete:function(){c=document.getElementById("icon-import-progress");d=$(".block-footer.align-right").find("button[type=button]:first")},buttons:{Import:function(a){var e=
a.getModalContentBlock().find("form");e.removeBlockMessages({except:"no-hide"}).blockMessage(tjs.get("Getting the list of all virtual servers"),{type:"loading",position:"top",noMargin:!0});$.get("index.php?controller=ajax&action=getVirtualServerList&id="+b,function(f,q){q=void 0===f.error?"":f.error;var l=void 0===f.servers?{}:f.servers;if(void 0===f.valid?0:f.valid){var g=Object.keys(l).length;if(0<g){var h=[],m=0;$.each(l,function(a,b){h[m]=a;m++});var k=0,n=0,p=0;if(h&&h!==[]&&h.hasOwnProperty(k)){d.disableBt();
c.parentElement.style.display="block";a.setModalContentSize(480,320);var t=function(){if(k<g&&l.hasOwnProperty(h[k]))h.hasOwnProperty(k)&&(c.firstElementChild.firstElementChild.style.width=(0).toFixed(0)+"%",c.firstElementChild.firstElementChild.innerHTML=(0).toFixed(0)+"%",c.nextElementSibling.firstElementChild.innerHTML=tjs.get("Virtual server")+" #"+h[k]+": "+tjs.get("Icons are searched for ..")),e.iconFileList({id:b,sid:h[k]},function(){var a=this.form,d=this.data,e=void 0===d.icons?[]:d.icons,
f=0,g=Object.keys(e).length;if(e&&e!==[]&&e.hasOwnProperty(f)){var l=function(){if(f<g)$.get("index.php?controller=ajax&action=importSingleServerIcon&id="+b+"&sid="+h[k]+"&name="+encodeURIComponent(e[f].name)+"&src="+encodeURIComponent(e[f].src),function(a,b){!1===(void 0===a.valid?!1:a.valid)?p++:n++;l()}),e[f].hasOwnProperty("name")&&h.hasOwnProperty(k)&&(c.nextElementSibling.firstElementChild.innerHTML=tjs.get("Virtual server")+" #"+h[k]+": ../"+e[f].name+" ("+f.toFixed(0)+"/"+g+")"),c.firstElementChild.firstElementChild.style.width=
(f/g*100).toFixed(0)+"%",c.firstElementChild.firstElementChild.innerHTML=(f/g*100).toFixed(0)+"%",f++;else{a.removeBlockMessages({except:"no-hide"}).blockMessage(tjs.get("Cache is being updated..."),{type:"loading",position:"top",noMargin:!0});var d=(f-1).toFixed(0);e[d].hasOwnProperty("name")&&(c.nextElementSibling.firstElementChild.innerHTML=tjs.get("Virtual server")+" #"+h[k]+": ../"+e[d].name+" ("+f.toFixed(0)+"/"+g+")");c.firstElementChild.firstElementChild.style.width=(f/g*100).toFixed(0)+"%";
c.firstElementChild.firstElementChild.innerHTML=(f/g*100).toFixed(0)+"%";$.get("index.php?controller=ajax&action=refreshVirtualServerIcons&id="+b+"&sid="+h[k],function(b,c){c=void 0===b.error?"":b.error;(void 0===b.valid?0:b.valid)?setTimeout(function(){k++;t()},200):a.removeBlockMessages({except:"no-hide"}).blockMessage(c,{type:"error",position:"top",noMargin:!0})})}};l()}else k++,t()},function(){h.hasOwnProperty(k)&&(c.nextElementSibling.firstElementChild.innerHTML=tjs.get("Virtual server")+" #"+
h[k]+": "+tjs.get("No icons were found"));setTimeout(function(){setTimeout(function(){k++;t()})},900)});else{var f="success",r="",m=window.location.href;0<p&&0<n?(f="warning",r=n+" "+tjs.get("icons")+" "+tjs.get("successfully imported")+"/ "+p+" "+tjs.get("icons")+" "+tjs.get("could not be imported")):0<p?(f="error",r=p+" "+tjs.get("icons")+" "+tjs.get("could not be imported")):1>n?(f="warning",r=tjs.get("No icons were found")):r=n+" "+tjs.get("icons")+" "+tjs.get("successfully imported");c.parentElement.style.display=
"none";a.setModalContentSize(480,280);e.removeBlockMessages({except:"no-hide"}).blockMessage(r,{type:f,position:"top",noMargin:!0});a.addButtons({"Close & Refresh":function(a){-1<m.indexOf("?")?window.location.href="undefined"===typeof sid?m+"&cache=update&cache_id="+default_cache_id:m+"&cache=update&cache_id="+default_cache_id.substr(0,(default_cache_id.length-sid.length+1).toFixed(0)):window.location.href="undefined"===typeof sid?m+"?cache=update&cache_id="+default_cache_id:m+"?cache=update&cache_id="+
default_cache_id.substr(0,(default_cache_id.length-sid.length+1).toFixed(0))}},!0);d.enableBt()}};t()}}}else e.removeBlockMessages({except:"no-hide"}).blockMessage(q,{type:"error",position:"top",noMargin:!0})}).fail(function(){e.removeBlockMessages({except:"no-hide"}).blockMessage(tjs.get("Error while contacting server, please try again"),{type:"error",position:"top",noMargin:settings.noMargin})})},Close:function(a){a.closeModal()}}})});
$(".modal-import-icon-data").click(function(a){a.preventDefault();var b=$(this).attr("data-id"),c=$(this).attr("data-sid");a=encodeURIComponent($(this).attr("href"));var d,e;$.modal({title:tjs.get("Import/Update Icons (Server)"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=importServerIcons&id="+b+"&sid="+c+"&redirect="+a,width:480,height:280,complete:function(){d=document.getElementById("icon-import-progress");e=$(".block-footer.align-right").find("button[type=button]:first")},
buttons:{Import:function(a){a.getModalContentBlock().find("form").iconFileList({id:b,sid:c},function(){var f=this.form,q=this.data,l=void 0===q.icons?[]:q.icons,g=0,h=Object.keys(l).length,m=0,k=0;if(l&&l!==[]&&l.hasOwnProperty(g)){e.disableBt();d.parentElement.style.display="block";a.setModalContentSize(480,320);var n=function(){if(g<h)$.get("index.php?controller=ajax&action=importSingleServerIcon&id="+b+"&sid="+c+"&name="+encodeURIComponent(l[g].name)+"&src="+encodeURIComponent(l[g].src),function(a,
b){!1===(void 0===a.valid?!1:a.valid)?k++:m++;n()}),l[g].hasOwnProperty("name")&&(d.nextElementSibling.firstElementChild.innerHTML="../"+l[g].name+" ("+g.toFixed(0)+"/"+h+")"),d.firstElementChild.firstElementChild.style.width=(g/h*100).toFixed(0)+"%",d.firstElementChild.firstElementChild.innerHTML=(g/h*100).toFixed(0)+"%",g++;else{f.removeBlockMessages({except:"no-hide"}).blockMessage(tjs.get("Cache is being updated..."),{type:"loading",position:"top",noMargin:!0});var p=(g-1).toFixed(0);l[p].hasOwnProperty("name")&&
(d.nextElementSibling.firstElementChild.innerHTML="../"+l[p].name+" ("+g.toFixed(0)+"/"+h+")");d.firstElementChild.firstElementChild.style.width=(g/h*100).toFixed(0)+"%";d.firstElementChild.firstElementChild.innerHTML=(g/h*100).toFixed(0)+"%";$.get("index.php?controller=ajax&action=refreshVirtualServerIcons&id="+b+"&sid="+c,function(b,c){c=void 0===b.error?"":b.error;if(void 0===b.valid?0:b.valid){d.parentElement.style.display="none";a.setModalContentSize(480,280);b="success";c="";var e=window.location.href;
0<k&&0<m?(b="warning",c=m+" "+tjs.get("icons")+" "+tjs.get("successfully imported")+"/ "+k+" "+tjs.get("icons")+" "+tjs.get("could not be imported")):0<k?(b="error",c=k+" "+tjs.get("icons")+" "+tjs.get("could not be imported")):c=m+" "+tjs.get("icons")+" "+tjs.get("successfully imported");f.removeBlockMessages({except:"no-hide"}).blockMessage(c,{type:b,position:"top",noMargin:!0});a.addButtons({"Close & Refresh":function(a){-1<e.indexOf("?")?window.location.href=e+"&cache=update&cache_id="+default_cache_id:
window.location.href=e+"?cache=update&cache_id="+default_cache_id}},!0)}else f.removeBlockMessages({except:"no-hide"}).blockMessage(c,{type:"error",position:"top",noMargin:!0})});e.enableBt()}};n()}})},Close:function(a){a.closeModal()}}})});
$(".modal-confirm").click(function(a){a.preventDefault();var b=$(this).attr("href");$.modal({content:'<p><div class="warnings align-center"><b>'+tjs.get("Do you really want to do this?")+"</b></div></p>",title:tjs.get("Confirm"),draggable:!0,closeButton:!1,maxWidth:280,buttons:{Continue:function(a){document.location.href=b},Close:function(a){a.closeModal()}}})});
$(".modal-confirm-tpl").click(function(a){a.preventDefault();var b=$(this).attr("href");a=$(this).html();$.modal({content:'<p><div class="warnings align-center"><b>'+tjs.get("Are you sure you want to create a virtual server from this template?")+"</b></div></p>",title:a,draggable:!0,closeButton:!1,maxWidth:280,buttons:{Continue:function(a){document.location.href=b},Close:function(a){a.closeModal()}}})});
$(".modal-confirm-submit").click(function(a){a.preventDefault();var b=$(this).parents("form");$.modal({content:'<p><div class="warnings align-center"><b>'+tjs.get("Do you really want to do this?")+"</b></div></p>",title:tjs.get("Confirm"),draggable:!0,closeButton:!1,maxWidth:280,buttons:{Continue:function(a){b.submit()},Close:function(a){a.closeModal()}}})});
$(".modal-edit-account").click(function(a){a.preventDefault();a=encodeURIComponent($(this).attr("href"));$.modal({title:tjs.get("Edit Profile"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=accountEdit&redirect="+a,width:480,height:540,buttons:{Save:function(a){a.getModalContentBlock().find("form").submit()},Close:function(a){a.closeModal()}}})});
$(".modal-add-account").click(function(a){a.preventDefault();$.modal({title:tjs.get("Add Webuser"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=accountCreate",width:640,height:520,complete:function(){$("#lang").msDropDown().data("dd")},buttons:{"Save & Proceed":function(a){a.getModalContentBlock().find("form").submit()},Close:function(a){a.closeModal()}}})});
$(".modal-add-reseller").click(function(a){a.preventDefault();$.modal({title:tjs.get("Add Reseller"),draggable:!0,closeButton:!0,url:"index.php?controller=reseller&action=modalResellerCreate",width:640,height:520,complete:function(){$("#lang").msDropDown().data("dd")},buttons:{"Save & Proceed":function(a){a.getModalContentBlock().find("form").submit()},Close:function(a){a.closeModal()}}})});
$(".modal-edit-reseller").click(function(a){a.preventDefault();a=$(this).attr("data-uid");$.modal({title:tjs.get("Edit Reseller"),draggable:!0,closeButton:!0,url:"index.php?controller=reseller&action=modalResellerSaEdit&uid="+encodeURIComponent(btoa(a)),width:640,height:520,complete:function(){$("#lang").msDropDown().data("dd")},buttons:{"Save & Proceed":function(a){a.getModalContentBlock().find("form").submit()},Close:function(a){a.closeModal()}}})});
$(".modal-edit-webuser").click(function(a){a.preventDefault();a=$(this).attr("data-uid");$.modal({title:tjs.get("Edit Webuser"),draggable:!0,closeButton:!0,url:"index.php?controller=modal&action=accountSaEdit&uid="+encodeURIComponent(btoa(a)),width:640,height:520,complete:function(){$("#lang").msDropDown().data("dd")},buttons:{"Save & Proceed":function(a){a.getModalContentBlock().find("form").submit()},Close:function(a){a.closeModal()}}})});
$(".modal-simple-bots-log").click(function(a){a.preventDefault();var b=$(this).attr("href");a=$(this).attr("data-id");var c=$(this).attr("data-sid");$.modal({title:tjs.get("Simple Bots Error Log"),draggable:!0,closeButton:!0,url:"index.php?controller=simpleBots&action=modalSimpleBotsLog&id="+a+"&sid="+c,width:640,height:520,buttons:{"Clear Log":function(a){document.location.href=b+"&cSimpleBotsLogs=true"},Close:function(a){a.closeModal()}}})});
$(".modal-simple-bots-settings").click(function(a){a.preventDefault();a=$(this).attr("href");var b=$(this).attr("data-id"),c=$(this).attr("data-sid");$.modal({title:tjs.get("Simple Bots Configuration"),draggable:!0,closeButton:!0,url:"index.php?controller=simpleBots&action=modalSimpleBotsConfig&id="+b+"&sid="+c+"&redirect="+encodeURIComponent(a),width:640,height:550,buttons:{"Save & Proceed":function(a){a.getModalContentBlock().find("form").submit()},Close:function(a){a.closeModal()}}})});
