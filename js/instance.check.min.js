var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,e){a instanceof String&&(a=String(a));for(var c=a.length,d=0;d<c;d++){var g=a[d];if(b.call(e,g,d,a))return{i:d,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,e,c){if(b){e=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var d=a[c];d in e||(e[d]={});e=e[d]}a=a[a.length-1];c=e[a];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6","es3");
(function(a){a.fn.instanceCheck=function(b,e){b=a.extend({a:"",id:this.attr("id"),item:this},b);var c=b.item,d=c.find(".manage-instance:first"),g=c.find(".connect-instance:first"),f=c.find(".error-instance:first"),h=f.children("span");if(b.id&&0!==b.id.length){(c="index.php?controller=ajax&action=instanceCheck",""!==c)||(c=document.location.href.match(/^([^#]+)/)[1]);var k={a:b.a,id:b.id},l=(new Date).getTime();a.ajax({url:c,dataType:"json",type:"POST",data:k,success:function(a,b,c){a.valid?(b=a.response,
a=a.new_version,c=(new Date).getTime(),500>c-l?setTimeout(function(){d.show();g.hide();f.hide()},500-(c-l)):(d.show(),g.hide(),f.hide()),0!==b.length&&(d.find("span.instance-version").html(" "+b),a?(d.find(".new-version-available").show(),d.find(".new-version-available").attr("title",a+" "+tjs.get("available")).tip({onHover:!0,offset:9})):d.find(".new-version-available").hide()),"function"===typeof e&&e.call(block)):a.error?(d.hide(),g.hide(),f.show(),f.attr("title",a.error+", "+tjs.get("click to try again")||
"An unexpected error occurred, "+tjs.get("click to try again")),h.html(a.error+", "+tjs.get("click to try again")||"An unexpected error occurred, "+tjs.get("click to try again"))):a.warning&&(d.hide(),g.hide(),f.show(),f.attr("title",a.warning+", "+tjs.get("click to try again")||"An unexpected error occurred, "+tjs.get("click to try again")),h.html(a.warning+", "+tjs.get("click to try again")||"An unexpected error occurred, "+tjs.get("click to try again")))},error:function(a,b,c){d.hide();g.hide();f.show();
f.attr("title",k.error+", "+tjs.get("click to try again")||"An unexpected error occurred, "+tjs.get("click to try again"));h.html(k.error+", "+tjs.get("click to try again")||"An unexpected error occurred, "+tjs.get("click to try again"))}});d.hide();g.show();f.hide()}else d.hide(),g.hide(),f.show(),f.attr("title","Wrong instance id"),h.html("Wrong Instance Id")}})(jQuery);
