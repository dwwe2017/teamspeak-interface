(function(d){function g(){d("#contextMenu").empty().hide();d(document).unbind("click",g)}function h(a){var c="<ul>",f={text:"Link",alt:"",classes:"",onclick:"",link:"",subs:[],icon:""},e;for(e in a)if("object"!=typeof a[e])c+='<li class="sep"></li>';else{var b=d.extend({},f,a[e]),g=0<b.alt.length?' title="'+b.alt+'"':"",m=0<b.icon.length?' class="icon_'+b.icon+'"':"",n=0<b.classes.length?' class="'+b.classes+'"':"",p=0<b.onclick.length?' onclick="'+b.onclick+'"':"";if(0<b.link.length)var k='a href="'+
b.link+'"',l="a";else l=k="span";c+="<li"+m+"><"+k+g+n+p+">"+b.text+"</"+l+">";"object"==typeof b.subs&&0<b.subs.length&&(c+=h(b.subs));c+="</li>"}return c+"</ul>"}document.oncontextmenu=function(a){a=window.event||a;var c=[];d(a.target||a.srcElement).trigger("contextMenu",[c]);if(0<c.length){var f=0,e=0;if(a.pageX||a.pageY)f=a.pageX,e=a.pageY;else if(a.clientX||a.clientY)f=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e=a.clientY+document.body.scrollTop+document.documentElement.scrollTop;
d("#contextMenu").html(h(c)).css({top:e+"px",left:f+"px"}).show().openDropDownMenu();d(document).bind("click",g);return!1}};d(document).ready(function(){d(document.body).append('<div id="contextMenu" class="menu"></div>')})})(jQuery);
