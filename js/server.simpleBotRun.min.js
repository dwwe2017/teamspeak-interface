(function(b){b.fn.simpleBotRun=function(e,c){var a=b.extend({a:"",id:"",sid:"",button:this},e),f=b(a.button);if(a.id&&0!==a.id.length)if(a.sid&&0!==a.sid.length){(e="index.php?controller=ajax&action=runSimpleBot",""!==e)||(e=document.location.href.match(/^([^#]+)/)[1]);a={a:a.a,id:a.id,sid:a.sid};var g=(new Date).getTime();b.ajax({url:e,dataType:"json",type:"POST",data:a,success:function(d,a,e){d.valid?(a=(new Date).getTime(),500>a-g?setTimeout(function(){"function"===typeof c&&c.call(d)},500-(a-
g)):"function"===typeof c&&c.call(d)):d.error?("0"<f.attr("data-status")&&b.modal({content:'<p><div class="warnings align-center"><b>'+d.error||tjs.get("An unexpected error occurred, please try again")+"</b></div></p>",title:tjs.get("Attention"),draggable:!0,closeButton:!1,maxWidth:280,buttons:{Close:function(a){a.closeModal()}}}),"function"===typeof c&&c.call(d)):d.warning&&("0"<f.attr("data-status")&&b.modal({content:'<p><div class="warnings align-center"><b>'+d.warning||tjs.get("An unexpected error occurred, please try again")+
"</b></div></p>",title:tjs.get("Attention"),draggable:!0,closeButton:!1,maxWidth:280,buttons:{Close:function(a){a.closeModal()}}}),"function"===typeof c&&c.call(d))},error:function(a,b,c){}})}else b.modal({content:'<p><div class="warnings align-center"><b>'+tjs.get("Virtual server id is missing")+"</b></div></p>",title:tjs.get("Attention"),draggable:!0,closeButton:!1,maxWidth:280,buttons:{Close:function(a){a.closeModal()}}});else b.modal({content:'<p><div class="warnings align-center"><b>'+tjs.get("Entity id is missing")+
"</b></div></p>",title:tjs.get("Attention"),draggable:!0,closeButton:!1,maxWidth:280,buttons:{Close:function(a){a.closeModal()}}})}})(jQuery);
